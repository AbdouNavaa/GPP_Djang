
{% extends 'base.html' %}
{% load static %}
{% block body %}        
<section class="home-grid">

 <h1 class="heading">Liste de Filieres</h1>
 <!-- <h1 class="heading">quick options</h1> -->
          <a href="{% url "GPP:add_fil"   %}" class="inline-btn nav-link"
           style="color: white;"><i class="fas fa-add"></i><span>Ajouter</span></a>
    <table class="table "  >
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nom</th>
            <th scope="col">Description</th>
            <th scope="col">Semestres</th>
            <th scope="col">Matieres</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
         {% for fil in fils %}
         <td>{{forloop.counter}}</td>
         <td>{{ fil.name }}</td>
         <td>{{ fil.description }}</td>
         <td>
          {% for sem in fil.get_semesters_list %}
              S{{ sem }}{% if not forloop.last %}, {% endif %}
          {% endfor %}
      </td>
         
            
        
      <td>
        <a href="{% url 'GPP:matieres' fil.id%}"><i class="fas fa-code"></i></a>
        </td>

        <td>
          <a href="{% url 'GPP:update_filiere' fil.id %} "><i class="fa fa-edit" aria-hidden="true" style="color:green;"></i></a>
          <a href="#" onclick="confirmDelete({{ fil.id }}); return false;">
            <i class="fa fa-trash" aria-hidden="true" style="color:red;"></i>
        </a>
        
       </a>
      
         </td>
         
             {% comment %} <td>{% if isSigned == true %}<i class="fa fa-check-circle" aria-hidden="true"></i> {% endcomment %}
               {% comment %} {% else %}<i class="far fa-check-square    "></i>{% endif %}</td> {% endcomment %}
          {% comment %} </td> {% endcomment %}
        </tr>
          {% endfor %}
      
           </tbody>
          </table>
         
          <div class="pagination">
            {% if page_obj.has_previous %}
                <a class="nav-link" href="?page=1">&laquo; Premiere</a>
                <a class="nav-link" href="?page={{ page_obj.previous_page_number }}">Avant</a>
            {% endif %}
    
            <span class="current">
                Page {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
            </span>
    
            {% if page_obj.has_next %}
                <a class="nav-link" href="?page={{ page_obj.next_page_number }}">Suivant</a>
                <a class="nav-link" href="?page={{ page_obj.paginator.num_pages }}">Derniere &raquo;</a>
            {% endif %}
        </div>
    </section>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.9/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.9/dist/sweetalert2.min.js"></script>
    <script>
      function confirmDelete(filId) {
          Swal.fire({
              title: 'Êtes-vous sûr?',
              text: "Vous ne pourrez pas revenir en arrière!",
              icon: 'warning',
              showCancelButton: true,
              confirmButtonColor: '#3085d6',
              cancelButtonColor: '#d33',
              confirmButtonText: 'Oui, supprimer!',
              cancelButtonText: 'Annuler'
          }).then((result) => {
              if (result.isConfirmed) {
                  window.location.href = "Fd" + filId;
              }
          })
      }
      </script>
      



 {% endblock body %}